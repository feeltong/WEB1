Servlet 생명 주기

클라이언트 Servlet 에 요청을 하면 , Servlet은 바로 호출이 되지 않습니다.
Servlet은 객체를 생성하고 초기화 작업을 거친 후, 요청을 처리하는 생명 주기를 갖고 있습니다.
Servlet의 생명 주기는 다음과 같이 이루어집니다.

JSP 페이지도 결국은 Servlet이기 때문에 아래와 같은 생명 주기를 갖습니다.

1.요청이 오면, Servlet 클래스가 로딩되어 요청에 대한 Servlet 객체가 생성됩니다.
2.서버는 init() 메소드를 호출해서 Servlet을  초기화 합니다.
3.service() 메소드를 호출해서 Servlet이 브라우저의 요청을 처리하도록 합니다.
4.service() 메소드는 특정 HTTP 요청(GET, POST 등)을 처리하는 메서드 (doGet(), doPost() 등)를 호출합니다.
5.서버는 destroy() 메소드를 호출하여 Servlet을 제거합니다.

톰캣은 Servlet을 다음과 같이 관리하고 있습니다.

1.Servlet 객체를 생성하고 초기화하는 작업은 비용이 많은 작업이므로, 다음에 또 요청이 올 때를 대비하여 이미 생성된 Servlet 객체는 메모리에 남겨둡니다.
2.또 톰캣이 종료되기 전이나 reload 전에 모든 Servlet을 제거하게 됩니다.
3.이렇게 톰캣은 자원을 아끼면서 Servlet을 사용하고 있습니다.

개발자인 우리들도 자원을 효과적으로 사용하기 위해서 노력을 기울여야 합니다.
이에 대한 방법으로 초기화하는데 호출되는 init() 메서드를 활용합니다.
즉, 요청이 매 번 똑같은 로직을 거쳐서 똑같은 결과를 산출하는 작업은 딱 한 번만 수행 되도록 init() 에서 처리하는 것입니다.
예를 들면, doGet()에서 헤더를 추가하는 request.setCharacterEncoding("utf-8"); 메서드 같은 것들이 있죠.